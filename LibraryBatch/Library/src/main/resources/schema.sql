drop table if exists genres cascade;
drop table if exists authors cascade;
drop table if exists books cascade;

create table books
(
    id int8 generated by default as identity,
    tittle varchar(255),
    author_id int8,
    genre_id int8,
    primary key (id)
);

create table authors
(
    id int8 generated by default as identity,
    surname varchar(255),
    primary key (id)
);

create table genres
(
    id int8 generated by default as identity,
    type varchar(255),
    primary key (id)
);

alter table if exists books
    add constraint FK_author
    foreign key (author_id) references authors;

alter table if exists books
    add constraint FK_genre
    foreign key (genre_id) references genres;


-- drop table if exists batch_job_execution cascade;
-- drop table if exists batch_job_execution_context cascade;
-- drop table if exists batch_job_execution_params cascade;
-- drop table if exists batch_job_instance cascade;
-- drop table if exists batch_step_execution cascade;
-- drop table if exists batch_step_execution_context cascade;